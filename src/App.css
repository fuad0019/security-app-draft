#root {
  min-width: 100vw;
  margin: 0 auto;
  text-align: center;
}

.logo {
  height: 6em;
  padding: 1.5em;
  will-change: filter;
  transition: filter 300ms;
}
.logo:hover {
  filter: drop-shadow(0 0 2em #646cffaa);
}
.logo.react:hover {
  filter: drop-shadow(0 0 2em #61dafbaa);
}

@keyframes logo-spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

@media (prefers-reduced-motion: no-preference) {
  a:nth-of-type(2) .logo {
    animation: logo-spin infinite 20s linear;
  }
}

.card {
  padding: 2em;
}

.read-the-docs {
  color: #888;
}

/* --- Variables (light) --- */
:root {
  --page-bg: #f5f7fa;
  --card-bg: #ffffff;
  --border-color: #eef2f7;
  --primary: #2563eb;
  --primary-hover: #1d4ed8;
  --danger: #ef4444;
  --warn: #f59e0b;
  --low: #facc15;
}

/* --- Guard Page --- */
.guard-page { min-height:100vh; width:100%; background:var(--page-bg); display:flex; flex-direction:column; align-items:center; }
.guard-inner { width:80%; max-width:1200px; padding:0 clamp(12px,4vw,32px); box-sizing:border-box; }
.guard-header { font-size: clamp(22px, 4vw, 36px); font-weight:800; color:#141a22; margin: clamp(20px, 4vw, 40px) 0 clamp(12px, 3vw, 28px); }
.request-list { width:100%; max-width: clamp(320px, 92vw, 860px); margin:0 auto; display:flex; flex-direction:column; gap: clamp(12px, 3vw, 20px); box-sizing:border-box; overflow-x:hidden; }
.request-card { width:100%; max-width:100%; box-sizing:border-box; background:var(--card-bg); border-radius: clamp(12px, 2vw, 20px); box-shadow:0 8px 20px rgba(16,24,40,0.06); padding: clamp(12px,3vw,24px) clamp(12px,4vw,28px); display:flex; flex-direction:column; transition:box-shadow .25s ease, transform .25s ease; }
.request-card:hover { box-shadow:0 10px 26px rgba(16,24,40,0.12); transform:translateY(-2px); }
.request-row { display:flex; align-items:center; justify-content:space-between; gap: clamp(12px, 3vw, 28px); }
.left { flex:1; min-width:0; }
.addr { font-size: clamp(14px, 2.6vw, 18px); font-weight:700; color:#111827; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; text-align:left; }
.right-info { display:flex; align-items:center; gap:10px; flex-shrink:0; }
.chip { border-radius:999px; padding: clamp(4px, 1vw, 8px) clamp(10px, 2vw, 18px); font-size: clamp(11px, 2vw, 13px); font-weight:700; letter-spacing:.5px; color:#fff; }
.chip-high { background:var(--danger); }
.chip-medium { background:var(--warn); }
.chip-low { background:var(--low); color:#111; }
.ts { font-size: clamp(11px, 1.8vw, 13px); color:#6b7280; }
.expand { overflow:hidden; }
.expand-body { border-top:1px solid var(--border-color); margin-top: clamp(10px, 2.4vw, 16px); padding-top: clamp(10px, 2.4vw, 16px); font-size: clamp(13px, 2.2vw, 14px); color:#374151; }
.btn-primary { margin-top: clamp(10px, 2.4vw, 16px); align-self:flex-start; background:var(--primary); color:#fff; border:none; padding: clamp(8px, 2.4vw, 12px) clamp(12px, 3vw, 18px); border-radius: clamp(10px, 2vw, 14px); font-weight:700; cursor:pointer; font-size: clamp(13px, 2.2vw, 14px); }
@media (max-width:640px) {
  .guard-inner { padding:0 16px; }
  .guard-header { font-size:26px; margin-bottom:20px; }
  .request-card { padding:16px 20px; border-radius:16px; }
  .addr { font-size:14px; }
  .request-row { gap:16px; }
}
@media (max-width:420px) {
  .addr { font-size:13px; }
}
@media (min-width:1400px) {
  .guard-inner { max-width:1200px; }
}
.btn-primary:hover { background:var(--primary-hover); }

/* --- Alarm Page --- */
.alarm-page { min-height:100vh; background:linear-gradient(145deg,#f5f7fa,#eef2f8); display:flex; flex-direction:column; align-items:center; padding:72px 24px 60px; }
.alarm-title { font-size:34px; font-weight:800; letter-spacing:-0.5px; margin-bottom:44px; color:#141a22; }
.alarm-buttons { width:420px; max-width:100%; display:flex; flex-direction:column; gap:24px; }
.alarm-btn { width:100%; border:none; border-radius:22px; padding:30px 22px; font-size:20px; font-weight:700; cursor:pointer; display:flex; align-items:center; justify-content:center; box-shadow:0 10px 24px -4px rgba(0,0,0,0.18); color:#fff; transition:transform .16s ease, box-shadow .2s ease, filter .25s ease; }
.alarm-btn:hover { transform:translateY(-3px); box-shadow:0 16px 34px -6px rgba(0,0,0,0.22); filter:brightness(1.06); }
.alarm-btn:active { transform:translateY(0); box-shadow:0 10px 22px -6px rgba(0,0,0,0.20); }
.alarm-red { background:#d60017; }
.alarm-orange { background:#ff7a00; }
.alarm-yellow { background:#eab308; color:#1e293b; }
.alarm-pressed { margin-top:36px; width:420px; max-width:100%; background:#ffffff; border-radius:20px; padding:26px 26px 32px; box-shadow:0 8px 26px rgba(16,24,40,0.10); text-align:center; animation:fadeInUp .3s ease; }
.alarm-pressed p:first-child { font-size:15px; font-weight:600; color:#374151; }
.alarm-pressed p:last-child { font-size:28px; font-weight:800; margin-top:8px; }
@keyframes fadeInUp { from { opacity:0; transform:translateY(8px);} to { opacity:1; transform:translateY(0);} }

/* --- Shared Header --- */
.app-header { position:sticky; top:0; z-index:50; width:100%; backdrop-filter:blur(12px); background:rgba(255,255,255,0.8); border-bottom:1px solid var(--border-color); }
@media (prefers-color-scheme: dark) { .app-header { background:rgba(15,23,42,0.72); } }
.app-header-inner { max-width:1280px; margin:0 auto; padding:10px 20px; display:flex; align-items:center; justify-content:space-between; }
.app-brand { font-weight:700; font-size:18px; letter-spacing:.5px; color:#1e293b; }
@media (prefers-color-scheme: dark) { .app-brand { color:#f1f5f9; } }
.app-header-right { display:flex; align-items:center; gap:14px; }
.role-badge { padding:6px 12px; border-radius:20px; font-size:13px; font-weight:600; background:#e2e8f0; color:#1e293b; box-shadow:0 0 0 1px #cbd5e1 inset; }
@media (prefers-color-scheme: dark) { .role-badge { background:#1e293b; color:#f1f5f9; box-shadow:0 0 0 1px #334155 inset; } }
.logout-btn { background:#ef4444; color:#fff; font-weight:600; font-size:13px; padding:8px 16px; border:none; border-radius:10px; cursor:pointer; box-shadow:0 2px 6px rgba(0,0,0,0.15); transition:background .15s, transform .15s; }
.logout-btn:hover { background:#dc2626; }
.logout-btn:active { transform:translateY(1px); }
@media (max-width:640px) { .role-badge { display:none; } }

/* --- Emergency Page --- */
.emergency-page { min-height:100vh; background:var(--page-bg); padding:56px 20px 60px; display:flex; flex-direction:column; align-items:center; }
.emergency-map { width:100%; max-width:520px; height:380px; border-radius:20px; overflow:hidden; box-shadow:0 6px 20px rgba(16,24,40,0.10); border:1px solid var(--border-color); }
.emergency-footer { margin-top:16px; width:100%; max-width:520px; background:#ffffff; border-radius:16px; box-shadow:0 4px 14px rgba(16,24,40,0.08); padding:16px 18px; display:flex; align-items:center; justify-content:space-between; }

/* Animated city map */
.city-map { position:relative; width:100%; max-width:520px; height:380px; border-radius:20px; overflow:hidden; box-shadow:0 6px 20px rgba(16,24,40,0.10); border:1px solid var(--border-color); background:#0f172a url('/msta_homepage_map_1024x768.webp') center/cover no-repeat; }
.city-grid, .city-grid-overlay { position:absolute; inset:0; }
.city-grid { background:transparent; }
.city-grid-overlay { background:
  linear-gradient(135deg, rgba(30,41,59,.25), rgba(15,23,42,.55)),
  radial-gradient(circle at 70% 15%, rgba(59,130,246,.28), transparent 60%);
  mix-blend-mode:screen; pointer-events:none; }

.marker { position:absolute; transform:translate(-50%, -50%); display:flex; flex-direction:column; align-items:center; font-size:11px; font-weight:600; color:#fff; }
.marker-client { width:26px; height:26px; background:#10b981; border:3px solid #ffffffaa; border-radius:50%; box-shadow:0 0 0 4px rgba(16,185,129,.25),0 4px 10px rgba(0,0,0,.4); }
.marker-guard { width:26px; height:26px; background:#2563eb; border:3px solid #ffffffaa; border-radius:6px; box-shadow:0 0 0 4px rgba(37,99,235,.25),0 4px 10px rgba(0,0,0,.4); position:absolute; }
.marker-label { margin-top:6px; background:#ffffff14; padding:2px 6px; border-radius:8px; font-size:10px; backdrop-filter:blur(2px); }
.pulse { position:absolute; inset:0; border-radius:inherit; animation:pulse 2.4s infinite; }
@keyframes pulse { 0% { box-shadow:0 0 0 0 rgba(37,99,235,.55);} 70% { box-shadow:0 0 0 16px rgba(37,99,235,0);} 100% { box-shadow:0 0 0 0 rgba(37,99,235,0);} }

.path { position:absolute; inset:0; pointer-events:none; }
.path polyline { filter:drop-shadow(0 0 4px rgba(59,130,246,.6)); }
.path circle { filter:drop-shadow(0 0 4px rgba(37,99,235,.8)); }

@media (max-width:640px) {
  .city-map { height:300px; }
}

/* --- Responsive Breakpoints --- */
@media (max-width:640px) {
  .guard-header { font-size:22px; }
  .request-card { padding:14px 18px; }
  .alarm-title { font-size:26px; margin-bottom:32px; }
  .alarm-buttons { width:100%; }
  .alarm-pressed { width:100%; }
  .emergency-map { height:300px; }
}

@media (min-width:1024px) {
  .guard-header, .alarm-title { text-align:left; }
}

@media (prefers-color-scheme:dark) {
  :root { --page-bg:#0f172a; --card-bg:#1e293b; --border-color:#334155; }
  .guard-header, .alarm-title { color:#f1f5f9; }
  .addr { color:#f1f5f9; }
  .expand-body { color:#e2e8f0; }
  .ts { color:#94a3b8; }
  .alarm-pressed { background:#1e293b; }
  .emergency-page { background:#0f172a; }
  .emergency-footer { background:#1e293b; }
}

/* --- Client Alarm Page Styles --- */
.alarm-page {
  min-height: 100vh;
  background: linear-gradient(145deg,#f5f7fa,#eef2f8);
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 72px 24px 60px;
}
.alarm-title {
  font-size: 34px;
  font-weight: 800;
  letter-spacing: -0.5px;
  margin-bottom: 44px;
  color:#141a22;
}
.alarm-buttons {
  width: 420px; /* constant width */
  display:flex;
  flex-direction:column;
  gap:24px;
}
.alarm-btn {
  width:100%;
  border:none;
  border-radius:22px;
  padding:30px 22px;
  font-size:20px;
  font-weight:700;
  letter-spacing:.4px;
  cursor:pointer;
  display:flex;
  align-items:center;
  justify-content:center;
  box-shadow:0 10px 24px -4px rgba(0,0,0,0.18);
  color:#fff;
  transition:transform .16s ease, box-shadow .2s ease, filter .25s ease;
}
.alarm-btn:hover { transform:translateY(-3px); box-shadow:0 16px 34px -6px rgba(0,0,0,0.22); filter:brightness(1.06); }
.alarm-btn:active { transform:translateY(0); box-shadow:0 10px 22px -6px rgba(0,0,0,0.20); }
.alarm-red { background:#d60017; }
.alarm-orange { background:#ff7a00; }
.alarm-yellow { background:#eab308; color:#1e293b; }
.alarm-pressed {
  margin-top:36px;
  width:420px;
  background:#ffffff;
  border-radius:20px;
  padding:26px 26px 32px;
  box-shadow:0 8px 26px rgba(16,24,40,0.10);
  text-align:center;
  animation:fadeInUp .3s ease;
}
.alarm-pressed p:first-child { font-size:15px; font-weight:600; color:#374151; }
.alarm-pressed p:last-child { font-size:28px; font-weight:800; margin-top:8px; }
@keyframes fadeInUp { from { opacity:0; transform:translateY(8px);} to { opacity:1; transform:translateY(0);} }

/* --- Login Page --- */
.login-page { min-height:100vh; background:linear-gradient(135deg,#f8fafc,#eef2f7); display:flex; align-items:center; padding:40px 24px; overflow-x:hidden; }
@media (prefers-color-scheme: dark) { .login-page { background:linear-gradient(135deg,#0f172a,#1e293b); } }
.login-grid { width:100%; max-width:1120px; margin:0 auto; display:grid; gap:40px; grid-template-columns:repeat(auto-fit,minmax(320px,1fr)); align-items:stretch; }
.login-page * { box-sizing:border-box; }
.login-brand-pane { position:relative; border-radius:28px; background:linear-gradient(135deg,#0ea5e9,#6366f1); padding:48px 40px; color:#fff; box-shadow:0 10px 32px -8px rgba(30,64,175,0.35); overflow:hidden; }
.login-brand-pane:before { content:""; position:absolute; inset:0; background:radial-gradient(circle at 80% 20%,rgba(255,255,255,0.25),transparent 60%); pointer-events:none; }
.login-brand-title { font-size:40px; font-weight:800; letter-spacing:.5px; margin:0 0 16px; }
.login-brand-sub { font-size:18px; font-weight:500; margin:0 0 24px; max-width:420px; line-height:1.3; }
.login-points { list-style:none; padding:0; margin:0; display:grid; gap:10px; font-size:15px; }
.login-points li { position:relative; padding-left:24px; }
.login-points li:before { content:""; position:absolute; left:0; top:9px; width:10px; height:10px; background:#fff; border-radius:50%; box-shadow:0 0 0 3px rgba(255,255,255,0.35); }
@media (max-width:860px) { .login-brand-title { font-size:34px; } .login-brand-pane { padding:40px 32px; } }
@media (max-width:640px) { .login-brand-pane { order:2; } }

.login-card { background:#ffffff; border:1px solid var(--border-color); border-radius:28px; padding:42px 40px 48px; box-shadow:0 8px 30px rgba(16,24,40,0.08); display:flex; flex-direction:column; }
@media (prefers-color-scheme: dark) { .login-card { background:#1e293b; border-color:#334155; box-shadow:0 8px 26px rgba(0,0,0,0.55); } }
.login-title { font-size:30px; font-weight:700; margin:0 0 6px; color:#0f172a; }
@media (prefers-color-scheme: dark) { .login-title { color:#f8fafc; } }
.login-sub { font-size:15px; color:#475569; margin:0 0 28px; }
@media (prefers-color-scheme: dark) { .login-sub { color:#94a3b8; } }
.form-group { margin-bottom:22px; display:flex; flex-direction:column; gap:6px; }
.form-label { font-size:13px; font-weight:600; letter-spacing:.5px; text-transform:uppercase; color:#475569; }
@media (prefers-color-scheme: dark) { .form-label { color:#e2e8f0; } }
.text-input { width:100%; max-width:100%; min-width:0; display:block; font-size:16px; padding:12px 14px; border-radius:14px; background:#f1f5f9; border:1px solid #cbd5e1; outline:none; transition:border-color .15s, background .15s; }
.text-input:focus { border-color:#6366f1; background:#ffffff; }
@media (prefers-color-scheme: dark) { .text-input { background:#0f172a; border-color:#334155; color:#fff; } .text-input:focus { border-color:#6366f1; background:#1e293b; } }
.role-options { display:grid; gap:14px; grid-template-columns:repeat(auto-fit,minmax(140px,1fr)); }
.role-option { position:relative; display:flex; align-items:center; gap:8px; padding:14px 16px; border:1px solid #cbd5e1; border-radius:16px; background:#f8fafc; cursor:pointer; font-size:14px; font-weight:600; transition:background .15s,border-color .15s, box-shadow .15s; }
.role-option input { display:none; }
.role-option:hover { background:#ffffff; }
.role-option.selected { background:#6366f1; color:#fff; border-color:#4f46e5; box-shadow:0 6px 18px -4px rgba(79,70,229,0.45); }
@media (prefers-color-scheme: dark) { .role-option { background:#0f172a; border-color:#334155; color:#e2e8f0; } .role-option:hover { background:#1e293b; } .role-option.selected { background:#6366f1; border-color:#4f46e5; } }
.login-btn { width:100%; margin-top:12px; background:#2563eb; color:#fff; font-weight:600; font-size:15px; padding:14px 18px; border:none; border-radius:18px; cursor:pointer; letter-spacing:.3px; box-shadow:0 6px 18px -4px rgba(37,99,235,0.45); transition:background .15s, transform .15s, box-shadow .15s; }
.login-btn:hover { background:#1d4ed8; }
.login-btn:active { transform:translateY(1px); box-shadow:0 4px 12px -4px rgba(37,99,235,0.55); }
.login-btn:disabled { background:#94a3b8; cursor:not-allowed; box-shadow:none; }
@media (prefers-color-scheme: dark) { .login-btn:disabled { background:#475569; color:#94a3b8; } }
.login-foot-note { margin-top:28px; font-size:12px; color:#64748b; text-align:center; }
@media (prefers-color-scheme: dark) { .login-foot-note { color:#94a3b8; } }

@media (max-width:640px) { .login-card { padding:34px 30px 40px; border-radius:24px; } .login-title { font-size:26px; } }

/* Extra-small phone safeguards */
@media (max-width:420px) {
  .login-grid { grid-template-columns:1fr; gap:24px; }
  .role-options { grid-template-columns:1fr; }
  .login-brand-pane, .login-card { border-radius:20px; }
}

